function MultiSelector(b,a){this.list_target=b;this.count=0;this.id=0;if(a){this.max=a}else{this.max=-1}this.addElement=function(c){if(c.tagName=="INPUT"&&c.type=="file"){c.name="file_"+this.id++;c.multi_selector=this;c.onchange=function(){var d=document.createElement("input");d.type="file";this.parentNode.insertBefore(d,this);this.multi_selector.addElement(d);this.multi_selector.addListRow(this);this.style.position="absolute";this.style.left="-1000px"};if(this.max!=-1&&this.count>=this.max){c.disabled=true}this.count++;this.current_element=c}else{alert("Error: not a file input element")}};this.addListRow=function(d){var c=document.createElement("div");var e=document.createElement("input");e.type="button";e.value="Delete";c.element=d;e.onclick=function(){this.parentNode.element.parentNode.removeChild(this.parentNode.element);this.parentNode.parentNode.removeChild(this.parentNode);this.parentNode.element.multi_selector.count--;this.parentNode.element.multi_selector.current_element.disabled=false;return false};c.innerHTML=d.value;c.appendChild(e);this.list_target.appendChild(c)}};